# Path to list of URLs generated from HAR
$AssetList = "assets.txt"

# Headers â€“ use a custom UA you can allow in Cloudflare WAF
$Headers = @{
    "User-Agent" = "Cache-Prewarm-Bot/1.0"
    "Accept"     = "*/*"
}

$Urls = Get-Content $AssetList

foreach ($Url in $Urls) {
    Write-Host "Warming cache for: $Url"
    try {
        $response = Invoke-WebRequest -Uri $Url -Headers $Headers -Method GET -UseBasicParsing -TimeoutSec 30
        Write-Host "  Status: $($response.StatusCode)"
    }
    catch {
        Write-Host "  Error warming $Url : $($_.Exception.Message)"
    }
}
